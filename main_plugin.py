from plugins import importPlugins
from funboost import boost, BrokerEnum
import socket
from lib.pluginManager import PluginManager



if __name__ == '__main__':
    importPlugins()
    pluginManager = PluginManager()
    print(pluginManager.getPluginTableList())
    # NameList = pluginManager.getPluginNameList()
    # for _ in NameList:
    #     print(_)
    #     fun = pluginManager.getPluginRunFunction(_)
    #     clazz = pluginManager.getPlugin(_)
    #     # fun(obj='8004951b020000000000008c1a706c7567696e732e506c7567696e5f476f62792e706c7567696e948c0b506c7567696e5f476f62799493942981947d94288c0e636865636b51756575654e616d65948c0f506c7567696e5f476f627939313738948c0c636f6d70757465724e616d65948c094d4149534d44494151948c06617373657473945d948c0a747970652e7479706573948c0541737365749493942981947d94288c0d61737365744f726967696e616c948c0b31302e312e37322e313231948c0d617373657446696c74657265649468118c026970944e8c04706f7274944e7562618c0573746f7265944e8c06636f6e666967947d948c0772756e4d6f6465948c05636865636b948c066e6f74696679948c0a6c69622e6e6f74696679948c064e6f746966799493942981947d94288c086e6f746966696572944e8c0a70726f6a6563745f6964944e75628c0a706c7567696e4e616d659468018c0a70726f636573734e756d944b018c097468726561644e756d944b018c0f6861734d6f7265496e666f5061676594888c09686173436f6c756d6e94888c134d6f7265496e666f50616765436f6e74656e74944e8c0d70657255726c54696d654f7574944e8c04686f7374945d948c0e3132372e302e302e313a3931363194618c067461736b4964948c0e3230323331313132323133343138948c0c686f737453656c6563746564948c0e3132372e302e302e313a39313631948c0872756e4c6f63616c948875622e')
    #     if clazz.runLocal:
    #         boostFun = boost(_ + socket.gethostname(), broker_kind=BrokerEnum.REDIS_STREAM)(fun)
    #     else:
    #         boostFun = boost(_ , broker_kind=BrokerEnum.REDIS_STREAM)(fun)
    #     boostFun.consume()